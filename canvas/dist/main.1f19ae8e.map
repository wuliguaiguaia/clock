{"version":3,"sources":["main.js"],"names":["Clock","id","W","canvas","document","getElementById","ctx","getContext","init","width","height","translate","window","requestAnimationFrame","render","bind","time","getTime","hour","minute","second","clearRect","drawArc","i","color","x","Math","cos","PI","y","sin","numArr","forEach","num","drawText","hDeg","drawLine","mDeg","sDeg","date","Date","timeArr","toTimeString","split","slice","deg","len","lineWidth","save","beginPath","rotate","lineCap","moveTo","lineTo","strokeStyle","stroke","restore","r","fillColor","arc","fillStyle","fill","closePath","text","font","textAlign","textBaseline","fillText"],"mappings":"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","file":"main.1f19ae8e.map","sourceRoot":"..","sourcesContent":["class Clock {\r\n    constructor(id, W) {\r\n        this.canvas = document.getElementById(id);\r\n        this.ctx = this.canvas.getContext(\"2d\");\r\n        this.W = W;\r\n        this.init();\r\n    }\r\n    init() {\r\n        this.canvas.width = this.canvas.height = this.W;\r\n        this.ctx.translate(this.W / 2, this.W / 2);\r\n        window.requestAnimationFrame(this.render.bind(this))\r\n    }\r\n\r\n    render() {\r\n        let time = this.getTime()\r\n        let [hour, minute, second] = time;\r\n        this.ctx.clearRect(-this.W / 2, -this.W / 2, this.W, this.W);\r\n\r\n        // 大边框\r\n        this.drawArc(0, 0, this.W / 2, this.ctx);\r\n\r\n        // 周围圆点\r\n        for (let i = 0; i < 60; i++) {\r\n            let color;\r\n            if (i % 5) {\r\n                color = \"#ccc\"\r\n            } else {\r\n                color = \"black\"\r\n            }\r\n            let x = (this.W / 2 - 15) * Math.cos(Math.PI * 2 / 60 * i);\r\n            let y = (this.W / 2 - 15) * Math.sin(Math.PI * 2 / 60 * i);\r\n            this.drawArc(x, y, 5, this.ctx, color);\r\n        }\r\n\r\n        // 数字\r\n        let numArr = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 1, 2]\r\n        numArr.forEach((num, i) => {\r\n            let x = (this.W / 2 - 30) * Math.cos(Math.PI * 2 / 12 * i);\r\n            let y = (this.W / 2 - 30) * Math.sin(Math.PI * 2 / 12 * i);\r\n            this.drawText(num, x, y, '#333', this.ctx)\r\n        })\r\n\r\n        // 时针\r\n        let hDeg = 2 * Math.PI / 12 * hour + 2 * Math.PI / 60 * minute / 12;\r\n        this.drawLine(0, 20, hDeg, this.W / 5, 'red', 3, this.ctx)\r\n\r\n        // 分针\r\n        let mDeg = 2 * Math.PI / 60 * minute;\r\n        this.drawLine(0, 20, mDeg, this.W / 3, 'blue', 2, this.ctx)\r\n\r\n        // 秒针\r\n        let sDeg = 2 * Math.PI / 60 * second;\r\n        this.drawLine(0, 20, sDeg, this.W / 2 - 10, 'green', 2, this.ctx);\r\n\r\n        // 圆心\r\n        this.drawArc(0, 0, 5, this.ctx, '#fff');\r\n\r\n        window.requestAnimationFrame(this.render.bind(this));\r\n    }\r\n\r\n    getTime() {\r\n        let date = new Date();\r\n        let timeArr = date.toTimeString().split(\":\");\r\n        if (timeArr[0] > 11) {\r\n            timeArr[0] = timeArr[0] - 12;\r\n        }\r\n        timeArr[2] = timeArr[2].slice(0, 2);\r\n        return timeArr;\r\n    }\r\n\r\n    drawLine(x, y, deg, len, color, lineWidth, ctx) {\r\n        ctx.save();\r\n        ctx.beginPath();\r\n        ctx.rotate(deg);\r\n        ctx.lineWidth = lineWidth;\r\n        ctx.lineCap = 'round';\r\n        ctx.moveTo(x, y);\r\n        ctx.lineTo(x, -len);\r\n        ctx.strokeStyle = color;\r\n        ctx.stroke();\r\n        ctx.restore();\r\n    }\r\n\r\n    drawArc(x, y, r, ctx, fillColor) {\r\n        ctx.beginPath();\r\n        ctx.arc(x, y, r, 0, 2 * Math.PI);\r\n        if (fillColor) {\r\n            ctx.fillStyle = fillColor;\r\n            ctx.fill();\r\n        } else {\r\n            ctx.lineWidth = 5;\r\n            ctx.strokeStyle = 'yellow';\r\n            ctx.stroke();\r\n        }\r\n        ctx.closePath();\r\n    }\r\n\r\n    drawText(text, x, y, color, ctx) {\r\n        ctx.beginPath();\r\n        ctx.font = \"15px Arial\";\r\n        ctx.textAlign = \"center\"\r\n        ctx.textBaseline = 'middle';\r\n        ctx.fillStyle = color;\r\n        ctx.fillText(text, x, y);\r\n    }\r\n}\r\nnew Clock('canvas', 500);"]}